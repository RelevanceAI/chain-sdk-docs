---
title: 'How to build a chain'
description: 'We make it super easy to build LLM-powered chains'
---

## Creating a chain

Start by instantiating your chain with the `defineChain` method.

```js
import { defineChain } from '@relevanceai/chain';
const chain = defineChain({
    title: 'PDF Q&A',
});
```

## Define parameters

You can think of parameters like the inputs to an API endpoint. When you run this chain, you may want to pass in variables. They can (and should) be typed using [JSONSchema](https://json-schema.org/understanding-json-schema/reference/type.html).

For example, if you are creating a chain that asks questions of PDF's, you will want to define a `question` parameter of type `string`. You'll want to use this question in your LLM completion step.

```js
const chain = defineChain({
    title: 'PDF Q&A',
    params: {
        question: {
            type: 'string',
        },
    },
});
```

## Define steps

Steps are the sequence of transformations that your chain will perform. You define your steps within the `setup` function, which receives your `params` and the `step` method.

The `step` method is used to define a step. It receives a transformation `id` as the first parameter, and an object of `params` as the second parameter. You can find all transformation options from the link in the sidebar.

```js
const chain = defineChain({
    title: 'PDF Q&A',
    params: {
        question: {
            type: 'string',
        },
    },
    setup({ params, steps }) {
        const { question } = params;

        const pdf_url = 'https://www.mypdf.com/doc.pdf';

        const { text } = step('pdf_to_text', {
            pdf_url,
        });

        const { chunks } = step('split_text', {
            method: 'tokens',
            num_tokens: 500,
            text,
        });

        const { results: search_results } = step('search_array', {
            array: chunks,
            query: question,
        });

        const { answer } = step('prompt_completion', {
            prompt: `${search_results}

Based off the above context answer the question below:

Question:
${question}

Answer:`,
        });

        return { answer };
    },
});
```
